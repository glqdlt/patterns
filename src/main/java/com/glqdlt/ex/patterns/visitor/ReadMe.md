# 방문자 패턴

심심해서 개인적으로 실시간 멀티플레이 게임을 개발할 때의 이야기이다. 게임방에 모인 유저N 명은 아이템을 사용해서 서로 공격을할 수 있는 게임이다.

즉 유저A 가 유저B에서 아이템을 사용해서, 유저B의 HP 에 타격을 입히는 개념이다.

이를 일련의 시퀀스로 보면 아래와 같다.

1. 유저A가 아이템을 사용했다. 
2. 유저A의 아이템 소지수가 감소했다. 
3. 유저A는 유저B에게 아이템의 효과를 발휘 했다. 
4. 유저B는 HP가 감소했다.

처음에는 커맨드 패턴과 전략패턴으로 접근하려 했지만, 다양한 아이템의 효력에 따른 효과를 아이템에 피격당하는 사람이 관심사를 공유해야하는 커플링이 생기는 문제가 있었다.  또한 A-> B의 단방향에서는 이슈가 없었지만, A <-> B 양방향으로도 컨트롤이 되어야하는 문제가 생겼다.

그래서 연산을 책임져야하는 아이템의 사용자와 연상의 사용대상이 되는 사용자 간의 커플링을 느슨하게 하는 방안을 고민을 했었는데, 유저A가 유저B의 행동을 지시할수 있다면 어떨까? 란 생각이 들었다.

최종 구현한 모습을 보고 나니 방문자 패턴과 유사하다는 것을 깨닳았다.   

## 목적

객체의 알고리즘을 객체 자신에게서 분리 시키는 디자인 패턴.

## 구현

## ref